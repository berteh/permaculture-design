#:kivy 2.1.0

<DraggableImage>:
	drag_rectangle: (self.x, self.y + self.width/2, self.width, self.width) # because circle should be equal
    drag_timeout: 1000
    drag_distance: 0

<MasterLayout>:
    id: master_layout
	orientation: 'horizontal'
    background_color: (223/255, 211/255, 195/255, 1)
	padding: '10dp'
	spacing: '10dp'
	LeftPanel:
        id: left_panel
		orientation: 'vertical'
        size_hint: (0.25, 1)
        padding: '42dp'
        spacing: '30dp'
        canvas:
            Color:
                rgba: (199/255, 177/255, 152/255, 1) # Helps see where the panel is
            Rectangle:
                pos: self.pos
                size: self.size

		MDTextField:
			id: search_field
			font_size: '32dp'
			hint_text: 'Plant Search'
			hint_text_size: '36dp'
			mode: 'round'
			icon_left: 'magnify'
			background_color: app.theme_cls.bg_normal

		IconButton:
			source: 'images/tree1.png'
			on_press: design_panel.add_plant(size=(self.size), pos=(self.pos[0]-self.width, self.pos[1]))
		Label:
			id: plant_name
			text: 'Plant Name'
			font_size: '48dp'
	        pos_hint: {"center_x": .5, "center_y": .5}
			size_hint: (.8, .2)
		LeftPanelDropdown:
			icon: 'arrow-down-drop-circle-outline'
			text: "More Info"
			font_size: '36dp'
	        pos_hint: {"center_x": .5, "center_y": .5}
			theme_text_color: "Secondary" # Secondary, Hint, Error, Custom, ContrastParentBackground
			text_color: "green"
			line_color: "black"
			theme_icon_color: "Primary" # Same options as theme_text_color
			icon_color: "black"
			size_hint: (.8, .2)

		Label:
			id: plant_subtitle
			text: 'A bunch of useful information about the plant. Lets see how text is broken down into lines.'
			font_size: '24dp'
			text_size: (self.width * 0.85, None) # fills 85% of panel width, no vertical limit
			line_height: 1.5 # 1.5 line spacing

		OneLineAvatarListItem:
    		text: 'First single-line item'

			ImageLeftWidget:
        		source: 'images/arbustif-arrondi-natural_tree.png'

		OneLineAvatarListItem:
    		text: 'Second single-line item'

			ImageLeftWidget:
        		source: 'images/arbustif-arrondi-natural_tree.png'


	DesignPanel:
    	id: design_panel
		size_hint: (.75,1)
        Image:
            size: self.size
            source: self.parent.background
            allow_stretch: True
            keep_ratio: True
        MDFloatingActionButtonSpeedDial:
            id: plus_button
            data: {'My Trees': 'tree', 'pine-tree': 'pine-tree', 'palm-tree': 'palm-tree'}
            root_button_anim: True
            anchor: 'right' # default
            icon: 'plus' # default icon
            hint_animation: True
            right_pad: True
            right_pad_value: '20dp'
            bg_hint_color: app.theme_cls.primary_dark
